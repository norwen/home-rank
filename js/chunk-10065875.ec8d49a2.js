(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-10065875"],{2164:function(t,e,n){var i=n("cae7");function r(t,e,n){var r=-1,o=t.criteria,a=e.criteria,s=o.length,_=n.length;while(++r<s){var c=i(o[r],a[r]);if(c){if(r>=_)return c;var u=n[r];return c*("desc"==u?-1:1)}}return t.index-e.index}t.exports=r},"242e":function(t,e,n){var i=n("72af"),r=n("ec69");function o(t,e){return t&&i(t,e,r)}t.exports=o},"247d":function(t,e,n){"use strict";n.r(e);var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("layout-default",[n("div",{staticClass:"w-full mr-auto pt-12 pb-8"},[n("h1",{staticClass:"text-primary text-2xl uppercase px-4 md:px-0"},[t._v(" "+t._s(t.pageName)+" ")])]),n("VideoList")],1)},r=[],o=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"container"},[t.isLoading?n("div",t._l(3,(function(t){return n("VideoCardLoading",{key:t})})),1):t._e(),t.isLoading?t._e():n("div",t._l(t.sortedVideos,(function(t){return n("VideoCard",{key:t.id,attrs:{video:t}})})),1)])},a=[],s=n("5530"),_=n("2f62"),c=n("6c33"),u=n("93c6"),l=n.n(u),d=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"videoCardContainer container flex flex-col md:flex-row flex-wrap"},[n("div",{staticClass:"videoTitle"},[n("span",{staticClass:"title"},[t._v(t._s(t.title))]),n("span",{staticClass:"author"},[t._v(t._s(t.authorNameStr))])]),n("div",{staticClass:"flex flex-col video"},[n("VideoPreview",{attrs:{title:t.title,mainPoster:t.video.main_poster,video:t.video.gif_preview,duration:t.duration}}),n("VideoActions",{attrs:{id:t.id,videoLikeCount:t.videoLikeCount}})],1),n("VideoDescription",{attrs:{description:t.description}})],1)},f=[],p=(n("a4d3"),n("e01a"),n("a9e3"),function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"videoPreviewWrapper",on:{mouseenter:t.toggleHover,mouseleave:t.toggleHover}},[t.duration?n("span",{staticClass:"duration"},[t._v(t._s(t.duration))]):t._e(),n("img",{directives:[{name:"lazy",rawName:"v-lazy",value:t.mainPoster,expression:"mainPoster"},{name:"show",rawName:"v-show",value:!t.isHovered,expression:"!isHovered"}],staticClass:"videoPreview",attrs:{alt:t.title}}),n("img",{directives:[{name:"show",rawName:"v-show",value:t.isHovered,expression:"isHovered"}],staticClass:"video",attrs:{src:t.video,alt:"video preview"}})])}),v=[],h={name:"VideoPreview",data:function(){return{isHovered:!1}},props:{title:{type:String},mainPoster:{type:String,default:"https://dtsvkkjw40x57.cloudfront.net/350xnull/images/programs/302453/horizontal/2506_2Fcatalog_image_2F409682_2FSM7aONXQRmg0kBstk2Lj_02_2020_Vlog_20Thumbnail.jpg"},video:{type:String},isLoaded:{type:Boolean,default:!1},duration:{type:String,default:""}},methods:{toggleHover:function(){this.isHovered=!this.isHovered}}},m=h,b=(n("3d44"),n("2877")),g=Object(b["a"])(m,p,v,!1,null,"4e369e0d",null),x=g.exports,C=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"description flex-1 pt-6 md:pl-6 md:pt-0"},[n("div",{staticClass:"descriptionText",domProps:{innerHTML:t._s(t.description)}})])},k=[],L={name:"VideoDescription",props:{description:{type:String}}},y=L,w=(n("2fd0"),Object(b["a"])(y,C,k,!1,null,"4b016de3",null)),V=w.exports,N=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"videoActions"},[n("div",{staticClass:"pl-4 flex items-center"},[n("div",{staticClass:"likeCounter text-accent"},[t._v(" "+t._s(t.userLikeCount)+" ")]),n("div",{staticClass:"px-2 hover:cursor-pointer",on:{click:t.rankVideo}},[n("icon-video-like",{attrs:{disabled:"isLikeLocked",isActive:!t.isLikeLocked}})],1),n("div",{staticClass:"likeCounter text-primary"},[t._v(" "+t._s(t.totalVideoLikes)+" ")])])])},j=[],E=n("b047c"),O=n.n(E),I=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("font-awesome-icon",{style:{color:t.color},attrs:{icon:t.icon,size:"2x"}})],1)},S=[],T=n("ad3d"),A=n("b702"),$={name:"IconVideoLike",props:{isActive:{type:Boolean,default:!1}},data:function(){return{icon:A["a"]}},computed:{color:function(){return this.isActive?"green":"gray"}},components:{FontAwesomeIcon:T["a"]}},H=$,P=Object(b["a"])(H,I,S,!1,null,null,null),B=P.exports,F={name:"VideoActions",components:{IconVideoLike:B},data:function(){return{freshLikes:0}},props:{id:{type:Number},src:{type:String},videoLikeCount:{type:Number,default:0}},computed:Object(s["a"])({userVideo:function(){return this.getUserVideoById(this.id)},userLikeCount:function(){return this.userVideo&&this.userVideo.userLikeCount+this.freshLikes},totalVideoLikes:function(){return this.videoLikeCount+this.freshLikes},isLikeLocked:function(){return!(this.userLikeCreditsActive-this.freshLikes>0)}},Object(_["b"])(["getUserVideoById","userLikeCreditsActive"])),methods:{rankVideo:function(){this.isLikeLocked||(this.freshLikes++,this.debouncedRankVideo())},debouncedRankVideo:O()((function(){this.$store.dispatch(c["f"],{id:this.id,addLikesCount:this.freshLikes}),this.freshLikes=0}),700)}},M=F,R=(n("9e68"),Object(b["a"])(M,N,j,!1,null,"486e2fca",null)),U=R.exports,D={name:"VideoCard",components:{VideoPreview:x,VideoDescription:V,VideoActions:U},props:{video:{id:{type:Number},title:{type:String,default:"Watch video"},description:{type:String},duration:{type:String},main_poster:{type:String},gif_preview:{type:String},author:{type:Object,default:{title:"",url:""}},videoLikeCount:{type:Number,default:0}}},computed:{id:function(){return this.video&&this.video.id},title:function(){return this.video&&this.video.title},description:function(){return this.video&&this.video.description},authorName:function(){return this.video.author&&this.video.author.title},authorNameStr:function(){return this.authorName&&"by ".concat(this.authorName)||""},videoLikeCount:function(){return this.video&&this.video.likesCount},duration:function(){return this.video&&this.video.duration}},mounted:function(){var t=this;setTimeout((function(){t.mainPoster=t.main_poster}),500)}},W=D,z=(n("5e19"),Object(b["a"])(W,d,f,!1,null,"1187b0d4",null)),G=z.exports,X=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"container md:flex mb-4 px-6 pt-2 pb-10 flex-wrap bg-background-neutral opacity-75 contentPlaceholderWrapper"},[n("div",{staticClass:"title p-4",domProps:{innerHTML:t._s(t.title)}}),n("div",{staticClass:"flex justify-between pt-2 pb-10 px-4"},[n("div",{staticClass:"flex flex-col h-40 w-1/3 bg-gray-200 rounded-lg contentPlaceholderImage mr-6"}),n("div",{staticClass:"w-2/3",domProps:{innerHTML:t._s(t.description)}})])])},J=[],Y={name:"VideoCardLoading",data:function(){return{title:"<span>_______________</span> <span>____</span> <span>____________________________</span>",description:"<p><span>_________</span> <span>______________</span> <span>__________</span> <span>_________________</span> <span>_____________________</span> <span>_____________________</span> <span>___________________</span> <span>________</span> <span>__________________________</span> <span>______________________________</span> <span>_______</span> <span>_________________</span> <span>____________________</span> <span>_______________</span> <span>____</span> <span>________________</span> <span>_______</span> <span>_____________________________</span> <span>_________</span> <span>________________</span> <span>______________</span> <span>________________________</span> <span>______________________________________</span></p>"}}},q=Y,Q=Object(b["a"])(q,X,J,!1,null,null,null),K=Q.exports,Z={name:"VideoList",components:{VideoCard:G,VideoCardLoading:K},computed:Object(s["a"])({},Object(_["b"])(["videos","isLoading"]),{sortedVideos:function(){return l()(this.videos,["likesCount"],["desc"])}}),mounted:function(){this.fetchCatalog()},methods:{fetchCatalog:function(){this.$store.dispatch(c["b"]),this.$store.dispatch(c["c"])}}},tt=Z,et=Object(b["a"])(tt,o,a,!1,null,null,null),nt=et.exports,it=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"LayoutDefault"},[n("TheHeader"),n("div",{staticClass:"container container-main"},[t._t("default")],2),n("TheFooter")],1)},rt=[],ot=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"header w-screen bg-background-secondary p-6 text-secondary"},[n("nav",{staticClass:"w-full xl:max-w-screen-xl xl:mx-auto flex items-center justify-between"},[n("div",{staticClass:"font-bold text-xl"},[t._v("Home Rank app")]),n("HeaderUserInfo"),n("div",[t.isAuthenticated?t._e():n("LoginButton"),t.isAuthenticated?n("LogoutButton"):t._e()],1)],1)])},at=[],st=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("router-link",{staticClass:"loginLink",attrs:{to:"/login"}},[t._v(" Log in ")])},_t=[],ct={name:"LoginButton",props:{}},ut=ct,lt=(n("cb5e"),Object(b["a"])(ut,st,_t,!1,null,"3e969b06",null)),dt=lt.exports,ft=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("VButton",{attrs:{onClick:t.logout}},[t._v("Logout")])},pt=[],vt=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("button",{staticClass:"btn",on:{click:t.onClick}},[t._t("default",[t._v("Button")])],2)},ht=[],mt={name:"VButton",props:{onClick:{type:Function,required:!0}}},bt=mt,gt=(n("dccb"),Object(b["a"])(bt,vt,ht,!1,null,"310f0f38",null)),xt=gt.exports,Ct=n("a18c"),kt={name:"LogoutButton",components:{VButton:xt},methods:{logout:function(){var t=this;this.$store.dispatch(c["e"]).then((function(){t.$router.push({name:Ct["a"].login})}))}}},Lt=kt,yt=Object(b["a"])(Lt,ft,pt,!1,null,null,null),wt=yt.exports,Vt=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"userInfo flex justify-between"},[n("div",{staticClass:"likesCredits"},[t._v(t._s(t.userLikesStr))])])},Nt=[],jt=(n("99af"),{name:"HeaderUserInfo",computed:Object(s["a"])({},Object(_["b"])(["userLikeCreditsActive","userLikeCreditsTotal"]),{userLikesStr:function(){return"".concat(this.userLikeCreditsActive," / ").concat(this.userLikeCreditsTotal)}})}),Et=jt,Ot=Object(b["a"])(Et,Vt,Nt,!1,null,null,null),It=Ot.exports,St={name:"TheHeader",components:{LoginButton:dt,LogoutButton:wt,HeaderUserInfo:It},computed:Object(s["a"])({},Object(_["b"])(["currentUser","isAuthenticated"]))},Tt=St,At=(n("8051"),Object(b["a"])(Tt,ot,at,!1,null,null,null)),$t=At.exports,Ht=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("footer",{staticClass:"flex items-center justify-between flex-wrap bg-background-secondary p-6"},[t._v(" Footer goes here ")])},Pt=[],Bt={name:"TheFooter",props:{}},Ft=Bt,Mt=Object(b["a"])(Ft,Ht,Pt,!1,null,null,null),Rt=Mt.exports,Ut={name:"layout-default",components:{TheFooter:Rt,TheHeader:$t}},Dt=Ut,Wt=(n("385c"),Object(b["a"])(Dt,it,rt,!1,null,"9cf43f70",null)),zt=Wt.exports,Gt={name:"catalog",data:function(){return{pageName:"Video Catalog"}},components:{LayoutDefault:zt,VideoList:nt},computed:{}},Xt=Gt,Jt=Object(b["a"])(Xt,i,r,!1,null,null,null);e["default"]=Jt.exports},"27b6":function(t,e,n){},"2ab4":function(t,e,n){},"2fd0":function(t,e,n){"use strict";var i=n("2ab4"),r=n.n(i);r.a},"385c":function(t,e,n){"use strict";var i=n("740d"),r=n.n(i);r.a},"3d44":function(t,e,n){"use strict";var i=n("a98b"),r=n.n(i);r.a},"3dc6":function(t,e,n){},"408c":function(t,e,n){var i=n("2b3e"),r=function(){return i.Date.now()};t.exports=r},4842:function(t,e,n){},"48a0":function(t,e,n){var i=n("242e"),r=n("950a"),o=r(i);t.exports=o},5546:function(t,e,n){},5899:function(t,e){t.exports="\t\n\v\f\r                　\u2028\u2029\ufeff"},"58a8":function(t,e,n){var i=n("1d80"),r=n("5899"),o="["+r+"]",a=RegExp("^"+o+o+"*"),s=RegExp(o+o+"*$"),_=function(t){return function(e){var n=String(i(e));return 1&t&&(n=n.replace(a,"")),2&t&&(n=n.replace(s,"")),n}};t.exports={start:_(1),end:_(2),trim:_(3)}},"5e19":function(t,e,n){"use strict";var i=n("5546"),r=n.n(i);r.a},"6a5c":function(t,e,n){var i=n("7948"),r=n("badf"),o=n("97d3"),a=n("d4b2"),s=n("b047"),_=n("2164"),c=n("cd9d");function u(t,e,n){var u=-1;e=i(e.length?e:[c],s(r));var l=o(t,(function(t,n,r){var o=i(e,(function(e){return e(t)}));return{criteria:o,index:++u,value:t}}));return a(l,(function(t,e){return _(t,e,n)}))}t.exports=u},7156:function(t,e,n){var i=n("861d"),r=n("d2bb");t.exports=function(t,e,n){var o,a;return r&&"function"==typeof(o=e.constructor)&&o!==n&&i(a=o.prototype)&&a!==n.prototype&&r(t,a),t}},"72af":function(t,e,n){var i=n("99cd"),r=i();t.exports=r},"740d":function(t,e,n){},8051:function(t,e,n){"use strict";var i=n("27b6"),r=n.n(i);r.a},"920e":function(t,e,n){},"93c6":function(t,e,n){var i=n("6a5c"),r=n("6747");function o(t,e,n,o){return null==t?[]:(r(e)||(e=null==e?[]:[e]),n=o?void 0:n,r(n)||(n=null==n?[]:[n]),i(t,e,n))}t.exports=o},"950a":function(t,e,n){var i=n("30c9");function r(t,e){return function(n,r){if(null==n)return n;if(!i(n))return t(n,r);var o=n.length,a=e?o:-1,s=Object(n);while(e?a--:++a<o)if(!1===r(s[a],a,s))break;return n}}t.exports=r},"97d3":function(t,e,n){var i=n("48a0"),r=n("30c9");function o(t,e){var n=-1,o=r(t)?Array(t.length):[];return i(t,(function(t,i,r){o[++n]=e(t,i,r)})),o}t.exports=o},"99cd":function(t,e){function n(t){return function(e,n,i){var r=-1,o=Object(e),a=i(e),s=a.length;while(s--){var _=a[t?s:++r];if(!1===n(o[_],_,o))break}return e}}t.exports=n},"9e68":function(t,e,n){"use strict";var i=n("920e"),r=n.n(i);r.a},a98b:function(t,e,n){},a9e3:function(t,e,n){"use strict";var i=n("83ab"),r=n("da84"),o=n("94ca"),a=n("6eeb"),s=n("5135"),_=n("c6b6"),c=n("7156"),u=n("c04e"),l=n("d039"),d=n("7c73"),f=n("241c").f,p=n("06cf").f,v=n("9bf2").f,h=n("58a8").trim,m="Number",b=r[m],g=b.prototype,x=_(d(g))==m,C=function(t){var e,n,i,r,o,a,s,_,c=u(t,!1);if("string"==typeof c&&c.length>2)if(c=h(c),e=c.charCodeAt(0),43===e||45===e){if(n=c.charCodeAt(2),88===n||120===n)return NaN}else if(48===e){switch(c.charCodeAt(1)){case 66:case 98:i=2,r=49;break;case 79:case 111:i=8,r=55;break;default:return+c}for(o=c.slice(2),a=o.length,s=0;s<a;s++)if(_=o.charCodeAt(s),_<48||_>r)return NaN;return parseInt(o,i)}return+c};if(o(m,!b(" 0o1")||!b("0b1")||b("+0x1"))){for(var k,L=function(t){var e=arguments.length<1?0:t,n=this;return n instanceof L&&(x?l((function(){g.valueOf.call(n)})):_(n)!=m)?c(new b(C(e)),n,L):C(e)},y=i?f(b):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger".split(","),w=0;y.length>w;w++)s(b,k=y[w])&&!s(L,k)&&v(L,k,p(b,k));L.prototype=g,g.constructor=L,a(r,m,L)}},b047c:function(t,e,n){var i=n("1a8c"),r=n("408c"),o=n("b4b0"),a="Expected a function",s=Math.max,_=Math.min;function c(t,e,n){var c,u,l,d,f,p,v=0,h=!1,m=!1,b=!0;if("function"!=typeof t)throw new TypeError(a);function g(e){var n=c,i=u;return c=u=void 0,v=e,d=t.apply(i,n),d}function x(t){return v=t,f=setTimeout(L,e),h?g(t):d}function C(t){var n=t-p,i=t-v,r=e-n;return m?_(r,l-i):r}function k(t){var n=t-p,i=t-v;return void 0===p||n>=e||n<0||m&&i>=l}function L(){var t=r();if(k(t))return y(t);f=setTimeout(L,C(t))}function y(t){return f=void 0,b&&c?g(t):(c=u=void 0,d)}function w(){void 0!==f&&clearTimeout(f),v=0,c=p=u=f=void 0}function V(){return void 0===f?d:y(r())}function N(){var t=r(),n=k(t);if(c=arguments,u=this,p=t,n){if(void 0===f)return x(p);if(m)return clearTimeout(f),f=setTimeout(L,e),g(p)}return void 0===f&&(f=setTimeout(L,e)),d}return e=o(e)||0,i(n)&&(h=!!n.leading,m="maxWait"in n,l=m?s(o(n.maxWait)||0,e):l,b="trailing"in n?!!n.trailing:b),N.cancel=w,N.flush=V,N}t.exports=c},cae7:function(t,e,n){var i=n("ffd6");function r(t,e){if(t!==e){var n=void 0!==t,r=null===t,o=t===t,a=i(t),s=void 0!==e,_=null===e,c=e===e,u=i(e);if(!_&&!u&&!a&&t>e||a&&s&&c&&!_&&!u||r&&s&&c||!n&&c||!o)return 1;if(!r&&!a&&!u&&t<e||u&&n&&o&&!r&&!a||_&&n&&o||!s&&o||!c)return-1}return 0}t.exports=r},cb5e:function(t,e,n){"use strict";var i=n("3dc6"),r=n.n(i);r.a},d4b2:function(t,e){function n(t,e){var n=t.length;t.sort(e);while(n--)t[n]=t[n].value;return t}t.exports=n},dccb:function(t,e,n){"use strict";var i=n("4842"),r=n.n(i);r.a},e01a:function(t,e,n){"use strict";var i=n("23e7"),r=n("83ab"),o=n("da84"),a=n("5135"),s=n("861d"),_=n("9bf2").f,c=n("e893"),u=o.Symbol;if(r&&"function"==typeof u&&(!("description"in u.prototype)||void 0!==u().description)){var l={},d=function(){var t=arguments.length<1||void 0===arguments[0]?void 0:String(arguments[0]),e=this instanceof d?new u(t):void 0===t?u():u(t);return""===t&&(l[e]=!0),e};c(d,u);var f=d.prototype=u.prototype;f.constructor=d;var p=f.toString,v="Symbol(test)"==String(u("test")),h=/^Symbol\((.*)\)[^)]+$/;_(f,"description",{configurable:!0,get:function(){var t=s(this)?this.valueOf():this,e=p.call(t);if(a(l,t))return"";var n=v?e.slice(7,-1):e.replace(h,"$1");return""===n?void 0:n}}),i({global:!0,forced:!0},{Symbol:d})}}}]);
//# sourceMappingURL=chunk-10065875.ec8d49a2.js.map